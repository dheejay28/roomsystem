<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Add Room</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <img src="logo.png" alt="Logo" class="logo">
        <h1>Admin: Manage Rooms</h1>
        <form id="add-room-form">
            <label for="room-name">Room Name:</label>
            <input type="text" id="room-name" required>
            <button type="submit">Add Room</button>
        </form>

        <h2>Added Rooms</h2>
        <ul id="room-list"></ul>
    </div>

    <script>
        function loadRooms() {
            const rooms = JSON.parse(localStorage.getItem('rooms')) || [];
            const roomList = document.getElementById('room-list');

            // Clear the list before displaying rooms
            roomList.innerHTML = '';

            // Display all rooms in the list
            rooms.forEach((room, index) => {
                const li = document.createElement('li');
                li.textContent = room;

                // Create a remove button
                const removeButton = document.createElement('button');
                removeButton.textContent = 'Remove';
                removeButton.onclick = function() {
                    removeRoom(index); // Pass the index to the remove function
                };

                li.appendChild(removeButton); // Append the button to the list item
                roomList.appendChild(li); // Append the list item to the list
            });
        }

        document.getElementById('add-room-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const roomName = document.getElementById('room-name').value.trim();

            if (roomName) {
                let rooms = JSON.parse(localStorage.getItem('rooms')) || [];

                // Check if the room already exists
                if (rooms.includes(roomName)) {
                    alert('Room already exists!');
                } else {
                    // Add the room to the list
                    rooms.push(roomName);
                    localStorage.setItem('rooms', JSON.stringify(rooms)); // Store updated rooms in localStorage
                    alert('Room added successfully!');
                    loadRooms(); // Refresh the list
                }

                // Reset the form after adding a room
                document.getElementById('add-room-form').reset();
            }
        });

        function removeRoom(index) {
            const rooms = JSON.parse(localStorage.getItem('rooms')) || [];
            rooms.splice(index, 1); // Remove the room at the specified index
            localStorage.setItem('rooms', JSON.stringify(rooms)); // Save the updated list
            loadRooms(); // Refresh the list
        }

        // Load rooms when the page is ready
        window.onload = loadRooms;
    </script>
</body>
</html>
